document.addEventListener("DOMContentLoaded",function(){let t={logoImage:"images/Logo.jpg",logoText:"Arabfield Academy",navLinks:[{href:"about.html",text:"About Us"},{href:"partners-in-success.html",text:"Partners in Success"},{href:"programs.html",text:"Our Programs"},{href:"pricing.html",text:"Pricing"},{href:"blog.html",text:"Blog"},{href:"contact.html",text:"Contact"}],footerText:"&copy; 2025 Arabfield Academy. All Rights Reserved."},e=window.location.pathname.includes("/posts/");function a(t){return!t||t.startsWith("http")||t.startsWith("#")||t.startsWith("mailto:")?t:e?`../${t}`:t}async function l(t,e){let l=document.getElementById(t);if(l)try{let o=a(e),r=await fetch(o);if(!r.ok){console.error(`Failed to fetch template: ${o}`);return}l.innerHTML=await r.text()}catch(n){console.error(`Failed to load template for #${t}:`,n)}}async function o(){await Promise.all([l("main-header-placeholder","templates/header.html"),l("main-footer-placeholder","templates/footer.html"),l("fabs-placeholder","templates/fabs.html"),l("modal-placeholder","templates/contact-modal.html")]),function e(){["#main-header-placeholder","#main-footer-placeholder","#fabs-placeholder","#modal-placeholder"].forEach(t=>{let e=document.querySelector(t);e&&(e.querySelectorAll("a").forEach(t=>{let e=t.getAttribute("href");e&&(t.href=a(e))}),e.querySelectorAll("img").forEach(t=>{let e=t.getAttribute("src");e&&(t.src=a(e))}))});let l=document.querySelector(".main-nav ul");l&&(l.innerHTML=t.navLinks.map(t=>{let e=a(t.href),l=window.location.pathname.split("/").pop(),o=t.href.split("/").pop();return`<li><a href="${e}" class="${l===o||""===l&&"index.html"===o?"active":""}">${t.text}</a></li>`}).join(""));let o=document.querySelector("#footer-text");o&&(o.innerHTML=t.footerText),document.addEventListener("click",function(t){let e=t.target;e.closest(".mobile-nav-toggle")&&(document.querySelector(".mobile-nav-toggle")?.classList.toggle("active"),document.querySelector(".header-right-content")?.classList.toggle("active")),e.closest("#contact-us-link")&&(t.preventDefault(),document.getElementById("contact-modal")?.classList.add("active")),(e.closest(".modal-close-btn")||e.matches(".contact-modal"))&&document.getElementById("contact-modal")?.classList.remove("active"),e.closest("#scroll-to-top")&&(t.preventDefault(),window.scrollTo({top:0,behavior:"smooth"}))});let r=document.getElementById("scroll-to-top");r&&window.addEventListener("scroll",()=>{r.classList.toggle("visible",window.scrollY>300)})}(),function t(){let e=document.querySelector(".counters-section");if(e&&!e.querySelector(".counter.animated")){let a=e.querySelectorAll(".counter"),l=()=>{a.forEach(t=>{if(t.classList.contains("animated"))return;let e=+t.getAttribute("data-min")||0,a=+t.getAttribute("data-max")||0,l=t.hasAttribute("data-target")?+t.getAttribute("data-target"):Math.floor(Math.random()*(a-e+1))+e,o=0,r=()=>{o<l?(o=Math.min(o+Math.ceil(l/200),l),t.innerText=o.toLocaleString(),setTimeout(r,15)):(t.innerText=l.toLocaleString(),t.classList.add("animated"))};r()})},o=new IntersectionObserver((t,e)=>{t.forEach(t=>{t.isIntersecting&&(l(),e.unobserve(t.target))})},{threshold:.5});o.observe(e)}}(),document.dispatchEvent(new CustomEvent("app-loaded"))}o()});